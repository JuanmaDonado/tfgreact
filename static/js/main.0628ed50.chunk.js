(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t){var a=function(){function e(t,a){this.data=new Array(t.length);for(var n=0,r=t[0].length;n<t.length;n++){this.data[n]=new Array(r);for(var i=0;i<r;i++)this.data[n][i]=t[n][i]}if(a){if("object"!==typeof a[0])for(n=0;n<a.length;n++)a[n]=[a[n]];this.mirror=new e(a)}}return e.prototype.swap=function(e,t){this.mirror&&this.mirror.swap(e,t);var a=this.data[e];this.data[e]=this.data[t],this.data[t]=a},e.prototype.multline=function(e,t){this.mirror&&this.mirror.multline(e,t);for(var a=this.data[e],n=a.length-1;n>=0;n--)a[n]*=t},e.prototype.addmul=function(e,t,a){this.mirror&&this.mirror.addmul(e,t,a);for(var n=this.data[e],r=this.data[t],i=n.length-1;i>=0;i--)n[i]=n[i]+a*r[i]},e.prototype.hasNullLine=function(e){for(var t=0;t<this.data[e].length;t++)if(0!==this.data[e][t])return!1;return!0},e.prototype.gauss=function(){for(var e=0,t=this.data.length,a=this.data[0].length,n=[],r=0;r<a;r++){for(var i=0,o=0,c=e;c<t;c++){var l=this.data[c][r];Math.abs(l)>Math.abs(i)&&(o=c,i=l)}if(0===i)n.push(e);else{this.multline(o,1/i),this.swap(o,e);for(var u=0;u<t;u++)u!==e&&this.addmul(u,e,-this.data[u][r])}e++}for(u=0;u<n.length;u++)if(!this.mirror.hasNullLine(n[u]))throw new Error("singular matrix");return this.mirror.data},t.solve=function(t,a){var n=new e(t,a).gauss();if(n.length>0&&1===n[0].length)for(var r=0;r<n.length;r++)n[r]=n[r][0];return n},t.invert=function(t){return new e(t,function(e){for(var t=new Array(e),a=0;a<e;a++){t[a]=new Array(e);for(var n=0;n<e;n++)t[a][n]=a===n?1:0}return t}(t.length)).gauss()},t}();"object"===typeof e.exports&&(e.exports=a)},201:function(e,t,a){e.exports=a(365)},364:function(e,t,a){},365:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(7),o=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(22),l=a(79),u=a(26),s=a(25),d="ADD_EQUIPO",v="BORRAR_EQUIPO",h="CONECTAR_ENLACE",m="BORRAR_ENLACE",f="ADD_DATO",p="CAMBIAR_DATO",b="BORRAR_DATO",g="ADD_INCOGNITA",y="BORRAR_INCOGNITA",E="CAMBIAR_VALOR_INICIAL",O="ADD_ECUACION",j="BORRAR_ECUACION",I="ADD_RELACION",w="BORRAR_RELACION",A="CAMBIAR_SELECCION",_="TOGGLE_DRAWER",k=a(366),C=a(386),x=a(367),R=a(378),S=a(377),V=a(384),N=a(368),D=a(382),M=k.a(function(e,t,a){var n=a.payload,r=n.idObjetivo,i=n.id,o=Object(u.a)({},r,Object(u.a)({},e,C.a(i)));return x.a(o,t)}),q=k.a(function(e,t,a){var n=a.payload.id,r=Object(u.a)({},e,R.a(S.a(n)));return V.a(x.a(r),t)});function T(e,t){return N.a([t.payload.id],e)}var L=k.a(function(e,t,a){var n=a.payload,r=n.id,i=n.nuevoValor;return D.a([r,e],i,t)});var B=T,P=M("ecuaciones"),G=q("ecuaciones"),F=M("datos"),z=q("datos"),U=M("incognitas"),W=q("incognitas");var J=T,Q=M("relaciones"),Y=q("relaciones");var K=T,$=L("valor");var H=T,X=L("valorInicial");var Z=T;var ee=T;var te,ae,ne=Object(l.b)({seleccionado:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return t.payload.nuevaSeleccion;case v:case m:return"";default:return e}},isDrawerOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case _:return!e;case v:case m:return!1;default:return e}},entities:Object(l.b)({equipos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return function(e,t){var a={id:t.payload.id,nombre:t.payload.nombre,datos:[],incognitas:[],ecuaciones:[]};return Object(s.a)({},e,Object(u.a)({},t.payload.id,a))}(e,t);case v:return B(e,t);case O:return P(e,t);case j:return G(e,t);case f:return F(e,t);case b:return z(e,t);case g:return U(e,t);case y:return W(e,t);default:return e}},enlaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return function(e,t){var a;a=e[t.payload.id]?e[t.payload.id].relaciones:[];var n={id:t.payload.id,origen:t.payload.idOrigen,destino:t.payload.idDestino,relaciones:a};return Object(s.a)({},e,Object(u.a)({},t.payload.id,n))}(e,t);case m:return J(e,t);case I:return Q(e,t);case w:return Y(e,t);default:return e}},datos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return function(e,t){var a={id:t.payload.id,nombre:t.payload.nombre,valor:0};return Object(s.a)({},e,Object(u.a)({},t.payload.id,a))}(e,t);case b:return K(e,t);case p:return $(e,t);default:return e}},incognitas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return function(e,t){return Object(s.a)({},e,Object(u.a)({},t.payload.id,{id:t.payload.id,nombre:t.payload.nombre,valorInicial:1}))}(e,t);case y:return H(e,t);case E:return X(e,t);default:return e}},ecuaciones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return function(e,t){return Object(s.a)({},e,Object(u.a)({},t.payload.id,{id:t.payload.id,valor:t.payload.valor}))}(e,t);case j:return Z(e,t);default:return e}},relaciones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return function(e,t){var a=t.payload,n=a.id,r=a.idVar1,i=a.idVar2;return Object(s.a)({},e,Object(u.a)({},n,[r,i]))}(e,t);case w:return ee(e,t);default:return e}}})}),re=Object(l.c)(ne,void 0),ie=a(41),oe=a(375),ce=a(373),le=a(380),ue=a(31),se=a(94),de=a(34),ve=a.n(de);function he(e){return{type:A,payload:{nuevaSeleccion:e}}}function me(){return{type:_}}function fe(){ae.findViewsInArea(ae.getContentArea()).forEach(function(e){e.unhighlight()}),re.dispatch(he(""))}var pe=oe.a.Title;function be(e){var t=Object(n.useState)(""),a=Object(ie.a)(t,2),i=a[0],o=a[1];return r.a.createElement(ce.a,{layout:"inline"},r.a.createElement(ce.a.Item,null,r.a.createElement(pe,{level:4},"TFG")),r.a.createElement(ce.a.Item,null,r.a.createElement(le.a,{placeholder:"Nombre de equipo",value:i,onChange:function(e){o(e.target.value)}})),r.a.createElement(ce.a.Item,null,r.a.createElement(ue.a,{onClick:function(){!function(e){var t=new se.shapes.standard.Rectangle({ports:{groups:{inputs:{position:{name:"left",args:{}},attrs:{circle:{magnet:!0}}},outputs:{position:{name:"right",args:{}},attrs:{circle:{magnet:!0}}}},items:[{group:"inputs"},{group:"outputs"}]}});t.position(800,400),t.resize(100,40),t.attr({body:{fill:"white"},label:{text:e,fill:"black"},root:{magnet:"false"}}),t.addTo(te)}(i),o("")}},"Nuevo equipo")),r.a.createElement(ce.a.Item,null,r.a.createElement(ue.a,{onClick:e.onResolver,type:"primary"},"Resolver")))}var ge=a(376),ye=a(372),Ee=a(38),Oe=a(36),je=a(58),Ie=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Object(Oe.a)(this,e),this._simbolo="x",this.setSimbolo(t),this._valor=a}return Object(je.a)(e,[{key:"setSimbolo",value:function(e){this._simbolo=e}},{key:"getSimbolo",value:function(){return this._simbolo}},{key:"setValor",value:function(e){this._valor=e}},{key:"getValor",value:function(){return this._valor}}]),e}(),we=a(190),Ae=a.n(we),_e=function(){function e(){Object(Oe.a)(this,e),this.nCifras=5,this.nIterMax=1e3}return Object(je.a)(e,[{key:"resolver",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,r=!1,i=e.length,o=t.length;a.length;if(o!=i)throw"Error: El n\xfamero de ecuaciones no es igual al n\xfamero de inc\xf3gnitas";var c=[],l=[],u=[],s=[],d=[],v=[],h=[],m=[],f=0,p=0,b=0;for(f=0;f<o;f++)c[f]=new Ie(t[f].getSimbolo(),t[f].valorInicial),l[f]=new Ie(t[f].getSimbolo(),t[f].valorInicial),h[f]=[];for(;n<this.nIterMax;){for(d=[].concat(c,Object(Ee.a)(a)),f=0;f<i;f++)v[f]=e[f].getResiduo(d);for(p=0;p<i;p++){for(b=0;b<i;b++)l[b].setValor(c[b].getValor());for(l[p].setValor(l[p].getValor()+.01),d=[].concat(l,Object(Ee.a)(a)),b=0;b<i;b++)s[b]=e[b].getResiduo(d);for(f=0;f<i;f++)h[f][p]=(s[f]-v[f])/.01}for(m=Ae.a.solve(h,v),r=!0,f=0;f<i;f++)u[f]=c[f].getValor()-m[f],u[f]>t[f].maximo?u[f]=t[f].maximo-.01:u[f]<t[f].minimo&&(u[f]=t[f].minimo+.01),this._haConvergido(u[f],c[f].getValor())||(r=!1),c[f].setValor(u[f]);if(r)return u;n++}throw"N\xba de iteraciones: "+this.nIterMax+" superado sin encontrar soluci\xf3n"}},{key:"_haConvergido",value:function(e,t){var a;a=0===e?1:Math.ceil(Math.log10(Math.abs(e)));var n=Math.pow(10,a-this.nCifras);return a>this.nCifras?Math.abs(e-t)<.1:Math.abs(e-t)<n}}]),e}(),ke=a(120),Ce=a(113),xe=a(121),Re=function(e){function t(e,a){return Object(Oe.a)(this,t),Object(ke.a)(this,Object(Ce.a)(t).call(this,e,a))}return Object(xe.a)(t,e),t}(Ie);var Se=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(Oe.a)(this,t),(a=Object(ke.a)(this,Object(Ce.a)(t).call(this,e,void 0))).minimo=Number.NEGATIVE_INFINITY,a.maximo=Number.POSITIVE_INFINITY,a.valorInicial=n,a}return Object(xe.a)(t,e),t}(Ie);var Ve=a(89),Ne=function(){function e(t){Object(Oe.a)(this,e),this._expresion="1",this._parser=Ve.Parser.parse(this._expresion),this.setExpresion(t)}return Object(je.a)(e,[{key:"setExpresion",value:function(e){this._expresion=e;try{this._parser=Ve.Parser.parse(this._expresion)}catch(t){throw t.message+" en '"+this._expresion+"'"}}},{key:"getListaVariables",value:function(){var e=[];try{for(var t=this._parser.variables(),a=0;a<t.length;a++)e.push(new Ie(t[a]))}catch(n){throw n.message+" en '"+this._expresion+"'"}return e}},{key:"calcular",value:function(e){try{var t={};e.forEach(function(e){t[e.getSimbolo()]=e.getValor()});return this._parser.evaluate(t)}catch(a){throw a.message+" en '"+this._expresion+"'"}}}]),e}(),De=function(){function e(t){Object(Oe.a)(this,e),this._ecuacion="0 = 0",this._miembros=[],this._expresion=new Ne("0"),this.nCifras=5,this.nIterMax=100,this.setEcuacion(t)}return Object(je.a)(e,[{key:"setEcuacion",value:function(e){if(this._ecuacion=e,this._miembros=e.split("="),1===this._miembros.length)throw"No se encuentra = en '"+e+"'";if(this._miembros.length>2)throw"M\xe1s de un = en '"+e+"'";this._expresion.setExpresion("( "+this._miembros[0]+") - ("+this._miembros[1]+" )")}},{key:"getListaVariables",value:function(){return this._expresion.getListaVariables()}},{key:"getResiduo",value:function(e){return this._expresion.calcular(e)}},{key:"resolver",value:function(e){var t,a,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=!1;t=e.valorInicial;for(var l=[],u=0;u<this.nIterMax;u++){if(a=t+.01,e.setValor(t),l=[].concat(Object(Ee.a)(o),[e]),i=this._expresion.calcular(l),e.setValor(a),l=[].concat(Object(Ee.a)(o),[e]),c=!1,(n=0===(r=(this._expresion.calcular(l)-i)/(a-t))?a:t-i/r)>e.maximo?(n=e.maximo-.01,c=!1):n<e.minimo?(n=e.minimo+.01,c=!1):c=this._haConvergido(n,t),c)return n;t=n}throw"N\xba de iteraciones: "+this.nIterMax+" superado sin encontrar soluci\xf3n"}},{key:"_haConvergido",value:function(e,t){var a;a=0===e?1:Math.ceil(Math.log10(Math.abs(e)));var n=Math.pow(10,a-this.nCifras);return a>this.nCifras?Math.abs(e-t)<.1:Math.abs(e-t)<n}}]),e}();function Me(e,t){var a={};return e.forEach(function(e){var n=t[e],r=n.nombre,i=n.nombreSolver;a[r]=i}),a}function qe(e,t){var a=e.split("=").map(function(e){return Ve.Parser.parse(e)}),n=function(e){a=a.map(function(a){return a.substitute(e,t[e])})};for(var r in t)n(r);return a[0].toString()+"="+a[1].toString()}function Te(e){var t=e.equipos,a=e.datos,n=e.incognitas,r=e.ecuaciones,i=e.relaciones,o=function(e){var t={},a=1;for(var n in e)t[n]={nombre:e[n].nombre,nombreSolver:"v_".concat(a)},a++;return t}(Object(s.a)({},a,n)),c=function(e,t){return Object.keys(e).map(function(a){return new Re(t[a].nombreSolver,e[a].valor)})}(a,o),l=function(e,t){var a=[],n=[];for(var r in e)a.push(r),n.push(new Se(t[r].nombreSolver,e[r].valorInicial));return{ordenDeIds:a,arrayIncognitas:n}}(n,o),d=l.ordenDeIds,v=l.arrayIncognitas,h=function(e,t){var a={};for(var n in e){var r=e[n],i=r.ecuaciones,o=r.datos,c=r.incognitas,l=!0,d=!1,v=void 0;try{for(var h,m=i[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var f=h.value,p=[].concat(Object(Ee.a)(o),Object(Ee.a)(c));a=Object(s.a)({},a,Object(u.a)({},f,Me(p,t)))}}catch(b){d=!0,v=b}finally{try{l||null==m.return||m.return()}finally{if(d)throw v}}}return a}(t,o),m=[].concat(Object(Ee.a)(function(e,t){var a=[];for(var n in e)a.push(qe(e[n].valor,t[n]));return a}(r,h)),Object(Ee.a)(function(e,t){var a=[];for(var n in e){var r=e[n],i=t[r[0]].nombreSolver,o=t[r[1]].nombreSolver;a.push("".concat(i,"=").concat(o))}return a}(i,o))),f=m.map(function(e){return new De(e)});return function(e,t){var a={};return e.forEach(function(e,n){a[e]={id:e,solucion:t[n]}}),a}(d,(new _e).resolver(f,v,c))}var Le=oe.a.Text,Be=[{title:"Nombre",dataIndex:"nombre",key:"nombre"},{title:"Equipo",dataIndex:"equipo",key:"equipo"},{title:"Resultado",dataIndex:"resultado",key:"resultado"}];var Pe=Object(c.b)(function(e){var t=!0,a="",n=[];try{var r=Te(e.entities),i=e.entities,o=i.equipos,c=i.incognitas;for(var l in o){var u=!0,s=!1,d=void 0;try{for(var v,h=o[l].incognitas[Symbol.iterator]();!(u=(v=h.next()).done);u=!0){var m=v.value,f={key:m,nombre:c[m].nombre,equipo:o[l].nombre,resultado:r[m].solucion};n.push(f)}}catch(p){s=!0,d=p}finally{try{u||null==h.return||h.return()}finally{if(s)throw d}}}}catch(b){a=b,t=!1}return{dataSource:n,errorMsg:a,haySolucion:t}})(function(e){return r.a.createElement(ge.a,{title:"Resultados",visible:e.visible,onCancel:e.onCancel,onOk:e.onCancel,centered:!0},e.haySolucion?r.a.createElement(ye.a,{dataSource:e.dataSource,columns:Be,size:"small"}):r.a.createElement(Le,{type:"danger"},e.errorMsg))}),Ge=a(381),Fe=a(197),ze=a(369),Ue=a(370),We=a(91),Je=We.a.Option;var Qe=Object(c.b)(function(e,t){var a=t.idEquipo,n=t.tipo,r=e.entities.equipos[a],i=e.entities,o=i.datos,c=i.incognitas,l=Object(s.a)({},o,c),u=r.datos,d=r.incognitas;return"origen"===n&&(d=d.concat(u)),{arrayVariables:Fe.a(ze.a(d),Ue.a,V.a(ze.a(["id","nombre"])))(l)}})(function(e){return r.a.createElement(We.a,{style:{width:200},placeholder:e.placeholder,value:e.value,onSelect:e.onSelect},e.arrayVariables.map(function(e){return r.a.createElement(Je,{key:e.id},e.nombre)}))}),Ye=a(383),Ke=a(9);var $e=oe.a.Text;var He=Object(c.b)(null,function(e){return{borrarRelacion:function(t){return e({type:w,payload:{id:t}})}}})(function(e){return r.a.createElement(Ye.a.Item,null,r.a.createElement($e,null,e.nombre1,"=",e.nombre2),r.a.createElement(ue.a,{onClick:function(){e.borrarRelacion(e.idRelacion)}},r.a.createElement(Ke.a,{type:"delete",theme:"filled"})))}),Xe=oe.a.Text;var Ze=Object(c.b)(function(e){var t=e.entities.enlaces[e.seleccionado].relaciones;return{relaciones:ze.a(t,e.entities.relaciones),variables:Object(s.a)({},e.entities.datos,e.entities.incognitas)}})(function(e){return r.a.createElement(Ye.a,{header:r.a.createElement(Xe,{strong:!0},"Variable de Origen = Variable de Destino")},Object.keys(e.relaciones).map(function(t){var a=e.relaciones[t][0],n=e.relaciones[t][1];return r.a.createElement(He,{nombre1:e.variables[a].nombre,nombre2:e.variables[n].nombre,idRelacion:t,key:t})}))}),et=oe.a.Title;var tt=Object(c.b)(function(e){var t=e.entities.enlaces[e.seleccionado];return{idOrigen:t.origen,idDestino:t.destino,idEnlace:t.id}},function(e){return{addRelacion:function(t,a,n){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve()(),t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return{type:I,payload:{id:e,idObjetivo:t,idVar1:a,idVar2:n}}}(void 0,t,a,n))}}})(function(e){var t=Object(n.useState)(void 0),a=Object(ie.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(void 0),l=Object(ie.a)(c,2),u=l[0],s=l[1];return r.a.createElement("div",null,r.a.createElement(Qe,{idEquipo:e.idOrigen,tipo:"origen",placeholder:"Equipo de origen",value:i,onSelect:function(e){return o(e)}}),r.a.createElement(Qe,{idEquipo:e.idDestino,tipo:"destino",placeholder:"Equipo de destino",value:u,onSelect:function(e){return s(e)}}),r.a.createElement(ue.a,{onClick:function(){e.addRelacion(e.idEnlace,i,u)}},"A\xf1adir relaci\xf3n"),r.a.createElement(et,{level:4},"Relaciones"),r.a.createElement(Ze,null))});var at=a(379),nt=oe.a.Text;var rt=Object(c.b)(function(e,t){var a=e.entities[t.tipo][t.variableAsId],n=a.nombre,r=a.valor;return void 0===r&&(r=e.entities[t.tipo][t.variableAsId].valorInicial),{nombre:n,valor:r}},function(e){return{doCambiarVariable:function(t,a,n){"datos"===t?e(function(e,t){return{type:p,payload:{id:e,nuevoValor:t}}}(a,n)):"incognitas"===t&&e(function(e,t){return{type:E,payload:{id:e,nuevoValor:t}}}(a,n))},doBorrarVariable:function(t,a){"datos"===t?e({type:b,payload:{id:a}}):"incognitas"===t&&e(function(e){return{type:y,payload:{id:e}}}(a))}}})(function(e){return r.a.createElement(ce.a,{layout:"inline"},r.a.createElement(ce.a.Item,null,r.a.createElement(nt,null,e.nombre)),r.a.createElement(ce.a.Item,null,r.a.createElement(at.a,{step:.001,value:e.valor,onChange:function(t){e.doCambiarVariable(e.tipo,e.variableAsId,parseFloat(t))}})),r.a.createElement(ce.a.Item,null,r.a.createElement(ue.a,{onClick:function(){e.doBorrarVariable(e.tipo,e.variableAsId)}},r.a.createElement(Ke.a,{type:"delete"}))))});var it=Object(c.b)(function(e,t){return{variablesAsIds:e.entities.equipos[e.seleccionado][t.tipo],idEquipo:e.seleccionado}},function(e){return{doAddVariable:function(t,a,n){"datos"===t?e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve()(),t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return{type:f,payload:{id:e,idObjetivo:t,nombre:a}}}(void 0,a,n)):"incognitas"===t&&e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve()(),t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return{type:g,payload:{id:e,idObjetivo:t,nombre:a}}}(void 0,a,n))}}})(function(e){var t=Object(n.useState)(""),a=Object(ie.a)(t,2),i=a[0],o=a[1],c=r.a.createElement("div",null,r.a.createElement(le.a,{value:i,onChange:function(e){o(e.target.value)},placeholder:"Nombre"}),r.a.createElement(ue.a,{type:"button",onClick:function(){e.doAddVariable(e.tipo,e.idEquipo,i),o("")}},"A\xf1adir"));return r.a.createElement(Ye.a,{header:c},e.variablesAsIds.map(function(t){return r.a.createElement(Ye.a.Item,{key:t},r.a.createElement(rt,{variableAsId:t,tipo:e.tipo}))}))});function ot(e){return{type:j,payload:{id:e}}}var ct=a(385),lt=oe.a.Text;var ut=Object(c.b)(function(e,t){return{ecuacion:e.entities.ecuaciones[t.ecuacionAsId].valor}},function(e){return{borrarEcuacion:ct.a(e,ot)}})(function(e){return r.a.createElement(ce.a,{layout:"inline"},r.a.createElement(ce.a.Item,null,r.a.createElement(lt,null,e.ecuacion)),r.a.createElement(ce.a.Item,null,r.a.createElement(ue.a,{onClick:function(){e.borrarEcuacion(e.ecuacionAsId)}},r.a.createElement(Ke.a,{type:"delete",theme:"filled"}))))});var st=Object(c.b)(function(e){return{ecuacionesAsIds:e.entities.equipos[e.seleccionado].ecuaciones,idObjetivo:e.seleccionado}},function(e){return{addEcuacion:function(t,a){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve()(),t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return{type:O,payload:{id:e,idObjetivo:t,valor:a}}}(void 0,t,a))}}})(function(e){var t=Object(n.useState)(""),a=Object(ie.a)(t,2),i=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement(le.a,{value:i,onChange:function(e){o(e.target.value)}}),r.a.createElement(Ye.a,{header:r.a.createElement(ue.a,{type:"button",onClick:function(){e.addEcuacion(e.idObjetivo,i),o("")}},"A\xf1adir")},e.ecuacionesAsIds.map(function(e){return r.a.createElement(Ye.a.Item,{key:e},r.a.createElement(ut,{ecuacionAsId:e}))})))}),dt=a(374),vt=dt.a.TabPane;var ht=function(e){return r.a.createElement("div",null,r.a.createElement(ue.a,{type:"danger",onClick:function(){!function(){var e=re.getState().seleccionado;re.getState().entities.equipos[e]&&te.getCell(e).remove()}()}},"Borrar equipo"),r.a.createElement(dt.a,{defaultActiveKey:"1"},r.a.createElement(vt,{tab:"Datos",key:"1"},r.a.createElement(it,{tipo:"datos"})),r.a.createElement(vt,{tab:"Incognitas",key:"2"},r.a.createElement(it,{tipo:"incognitas"})),r.a.createElement(vt,{tab:"Ecuaciones",key:"3"},r.a.createElement(st,{isEquipo:!0}))))};var mt=Object(c.b)(function(e){var t=!1,a=!1,n="",r=e.seleccionado,i=e.entities,o=i.equipos,c=i.enlaces;return""!==r&&(o[r]?(t=!0,n=o[r].nombre):c[r]&&(a=!0,n="".concat(o[c[r].origen].nombre," -> ").concat(o[c[r].destino].nombre))),{isDrawerOpen:e.isDrawerOpen,isEquipo:t,isEnlace:a,drawerTitle:n}},function(e){return{handleCloseDrawer:function(){return e(me())}}})(function(e){var t;return t=e.isEquipo?r.a.createElement(ht,null):e.isEnlace?r.a.createElement(tt,null):"",r.a.createElement(Ge.a,{title:e.drawerTitle,placement:"right",visible:e.isDrawerOpen,width:400,onClose:e.handleCloseDrawer},t)}),ft=a(371),pt=(a(364),ft.a.Content),bt=ft.a.Footer;var gt=function(e){var t=Object(n.useState)(!1),a=Object(ie.a)(t,2),i=a[0],o=a[1];return r.a.createElement(ft.a,{style:{height:"100vh"}},r.a.createElement(pt,{className:"diagrama"}),r.a.createElement(bt,null,r.a.createElement(be,{onResolver:function(){o(!0)}})),r.a.createElement(mt,null),i&&r.a.createElement(Pe,{visible:i,onCancel:function(){o(!1)}}))};o.a.render(r.a.createElement(c.a,{store:re},r.a.createElement(gt,null)),document.getElementById("root")),te=new se.dia.Graph,ae=new se.dia.Paper({el:document.querySelector(".diagrama"),model:te,width:"100%",height:"100%",gridSize:10,drawGrid:!0,defaultRouter:{name:"manhattan"},linkPinning:!1,defaultLink:new se.dia.Link({attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}})}),te.on("add",function(e){e.isElement()&&re.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve()(),t=arguments.length>1?arguments[1]:void 0;return{type:d,payload:{id:e,nombre:t}}}(e.id,e.attr("label/text")))}),te.on("remove",function(e){var t;e.isElement()&&re.dispatch((t=e.id,{type:v,payload:{id:t}})),e.isLink()&&re.dispatch(function(e){return{type:m,payload:{id:e}}}(e.id))}),ae.on("link:connect",function(e){re.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve()(),t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return{type:h,payload:{id:e,idOrigen:t,idDestino:a}}}(e.model.id,e.model.attributes.source.id,e.model.attributes.target.id))}),ae.on("element:pointerdown",function(e){fe(),e.highlight(e),re.dispatch(he(e.model.id))}),ae.on("link:pointerclick",function(e){fe(),re.dispatch(he(e.model.id))}),ae.on("link:pointerdblclick",function(e){re.dispatch(he(e.model.id)),re.dispatch(me())}),ae.on("element:pointerdblclick",function(){re.dispatch(me())}),ae.on("blank:pointerdown",fe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.0628ed50.chunk.js.map